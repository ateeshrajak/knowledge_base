# RPC Bind enumeration is possible when RPC ports are exposed
# most likely we can see this happen on port 111 (which may also indicate
# the presence of an NFS server) or on port 135 on Microsoft Windows
# systems.

# Nmap Scan
nmap -n -v -sV -Pn -p 135 --script=msrpc-enum 192.168.1.10 

# If vulnerable
msf > use exploit/windows/dcerpc/ms03_026_dcom

# We can also use a very useful metasploit module:
`auxiliary/scanner/dcerpc/endpoint_mapper` 
# to get a lot of information on the RPC interface.


# Get Information with IP address
rpcinfo  IP
OR 
rpcclient -U "" IP
OR 
rpcclient -U "DOMAINNAME.LOCAL\username" 10.10.10.175
# Once inside we can issue different commands, such as:
srvinfo
enumdomusers
getdompwinfo
querydominfo
netshareenum
netshareenumall


# Get Information about IP Address
enum4linux -a $IP


# Port 135 TCP is used in general for remote inter-process communication,
# where some processes can publish some functions and other
# processes can call those functions.
# It is remote, since this makes it possible to interact from
# different machines.

# In particular port 135 TCP works as service mapper, so that
# we can query the system to understand which services are running
# on that host.

# We can use enum4linux to get some information, such as
# operating system info:
```sh
enum4linux -o <ip-address>
```
# If we have username/password we could get much more information.


# RPC on port 111
rpcinfo -p 192.168.1.111
msf >use auxiliary/scanner/nfs/nfsmount
